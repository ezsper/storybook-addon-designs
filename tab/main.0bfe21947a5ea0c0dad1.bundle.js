(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{1257:function(n,e){},1258:function(n,e){},1259:function(n,e){},1260:function(n,e){},1294:function(n,e,t){"use strict";t.r(e);var o,r,c,s,i,a,l,u,b,f,j,d,p,O,m,g=t(79),x=t.n(g),v=t(1),h="STORYBOOK_ADDON_DESIGNS",w=h+"/panel",y={UpdateConfig:h+"/update_config"},k=t(0),C=t(78),P=t(7),F=function(n,e){return Object.defineProperty?Object.defineProperty(n,"raw",{value:e}):n.raw=e,n},S=function(n){var e=n.config,t=n.defer,o=void 0!==t&&t,r=Object(k.useState)(o?void 0:e.url),c=r[0],s=r[1];return Object(k.useEffect)((function(){if(o){var n=requestAnimationFrame((function(){s(e.url)}));return function(){return cancelAnimationFrame(n)}}}),[o,e.url]),Object(v.jsx)("div",{css:I},Object(v.jsx)(P.Placeholder,{css:A},"Loading..."),Object(v.jsx)("iframe",{css:L,src:c,allowFullScreen:e.allowFullscreen}))},I=Object(v.css)(o||(o=F(["\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n\n  overflow: hidden;\n"],["\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n\n  overflow: hidden;\n"]))),A=Object(v.css)(r||(r=F(["\n  position: absolute;\n  top: 50%;\n  left: 50%;\n\n  transform: translate(-50%, -50%);\n"],["\n  position: absolute;\n  top: 50%;\n  left: 50%;\n\n  transform: translate(-50%, -50%);\n"]))),L=Object(v.css)(c||(c=F(["\n  position: relative;\n  width: 100%;\n  height: 100%;\n  border: none;\n\n  z-index: 1;\n"],["\n  position: relative;\n  width: 100%;\n  height: 100%;\n  border: none;\n\n  z-index: 1;\n"]))),z=function(n){var e=n.config,t=Object(k.useMemo)((function(){return function(n){return/https:\/\/([w.-]+.)?figma.com\/(file|proto)\/([0-9a-zA-Z]{22,128})(?:\/.*)?$/.test(n)}(e.url)?{url:"https://www.figma.com/embed?embed_host="+(e.embedHost||location.hostname)+"&url="+e.url,allowFullscreen:e.allowFullscreen}:(console.warn("[storybook-addon-designs] The URL you specified is not valid Figma URL.\nThe addon fallbacks to normal iframe mode.For more detail, please check <https://www.figma.com/developers/embed>."),e)}),[e.url,e.allowFullscreen,e.embedHost]);return Object(v.jsx)(S,{defer:!0,config:t})},D=function(){for(var n=0,e=0,t=arguments.length;e<t;e++)n+=arguments[e].length;var o=Array(n),r=0;for(e=0;e<t;e++)for(var c=arguments[e],s=0,i=c.length;s<i;s++,r++)o[r]=c[s];return o},M=function(n,e){return Object.defineProperty?Object.defineProperty(n,"raw",{value:e}):n.raw=e,n},T=function(){return(T=Object.assign||function(n){for(var e,t=1,o=arguments.length;t<o;t++)for(var r in e=arguments[t])Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}).apply(this,arguments)},Z=function(n){var e=n.children,t=n.className,o=n.style,r=n.defaultValue,c=n.value,s=n.onChange,i=Object(k.useState)([0,0]),a=i[0],l=i[1];Object(k.useEffect)((function(){l(r||(c||[0,0]))}),[r]);var u=function(n,e){var t=Object(k.useState)([0,0]),o=(t[0],t[1]),r=Object(k.useState)(!1),c=r[0],s=r[1],i=Object(k.useCallback)((function(n){0===n.button&&(o([n.screenX,n.screenY]),s(!0))}),[s,o]),a=Object(k.useCallback)((function(n){var e=n.touches[0];o([e.screenX,e.screenY]),s(!0)}),[s,o]),l=Object(k.useCallback)((function(e){c&&o((function(t){return n([e[0]-t[0],e[1]-t[1]]),e}))}),D([o,c],e)),u=Object(k.useCallback)((function(n){var e=n.screenX,t=n.screenY;l([e,t])}),[l]),b=Object(k.useCallback)((function(n){var e=n.touches[0],t=e.screenX,o=e.screenY;l([t,o])}),D([o,c],e)),f=Object(k.useCallback)((function(){o([0,0]),s(!1)}),[s,o]);return{onMouseDown:i,onMouseMove:u,onMouseUp:f,onMouseLeave:f,onTouchStart:a,onTouchMove:b,onTouchCancel:f,onTouchEnd:f}}((function(n){s&&s(n),l((function(e){return[e[0]+n[0],e[1]+n[1]]}))}),[l,s]),b=Object(k.useMemo)((function(){var n=c||a;return{transform:"translate("+n[0]+"px, "+n[1]+"px)"}}),[c,a]);return Object(v.jsx)("div",T({css:B,className:t,style:o},u),Object(v.jsx)("div",{css:E,style:b},e))},B=Object(v.css)(s||(s=M(["\n  position: relative;\n  overflow: hidden;\n\n  &:active {\n    cursor: move;\n  }\n"],["\n  position: relative;\n  overflow: hidden;\n\n  &:active {\n    cursor: move;\n  }\n"]))),E=Object(v.css)(i||(i=M(["\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n"],["\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n"]))),_=function(n){var e=n.onZoomIn,t=n.onZoomOut,o=n.onReset;return Object(v.jsx)(k.Fragment,null,Object(v.jsx)(P.IconButton,{onClick:e},Object(v.jsx)(P.Icons,{icon:"zoom"})),Object(v.jsx)(P.IconButton,{onClick:t},Object(v.jsx)(P.Icons,{icon:"zoomout"})),Object(v.jsx)(P.IconButton,{onClick:o},Object(v.jsx)(P.Icons,{icon:"zoomreset"})))},N=function(n,e){var t=Object(k.useState)(1),o=t[0],r=t[1];return Object(k.useEffect)((function(){r(n)}),e),{scale:o,zoomIn:Object(k.useCallback)((function(){r((function(n){return n+.1}))}),[r]),zoomOut:Object(k.useCallback)((function(){r((function(n){return Math.max(n-.1,.1)}))}),[r]),resetZoom:Object(k.useCallback)((function(){r(1)}),[r])}},R=function(n,e){return Object.defineProperty?Object.defineProperty(n,"raw",{value:e}):n.raw=e,n},U=function(n){var e=n.config,t=N(e.scale||1,[e.scale]),o=Object(k.useMemo)((function(){return{transform:"scale("+t.scale+")"}}),[t.scale]);return Object(v.jsx)("div",{css:Y},Object(v.jsx)(P.FlexBar,{border:!0},Object(v.jsx)(k.Fragment,{key:"left"},Object(v.jsx)("p",null,Object(v.jsx)("b",null,"Image")),Object(v.jsx)(P.Separator,null),Object(v.jsx)(_,{onReset:t.resetZoom,onZoomIn:t.zoomIn,onZoomOut:t.zoomOut}))),Object(v.jsx)(Z,{css:H,defaultValue:e.offset},Object(v.jsx)("img",{css:X,src:e.url,style:o})))},Y=Object(v.css)(a||(a=R(["\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  display: flex;\n  flex-direction: column;\n  align-items: stretch;\n"],["\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  display: flex;\n  flex-direction: column;\n  align-items: stretch;\n"]))),H=Object(v.css)(l||(l=R(["\n  flex-grow: 1;\n"],["\n  flex-grow: 1;\n"]))),X=Object(v.css)(u||(u=R(["\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  margin: auto;\n\n  pointer-events: none;\n  border-radius: 1px;\n  box-shadow: 0px 0px 5px rgba(0, 0, 0, 0.15);\n"],["\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  margin: auto;\n\n  pointer-events: none;\n  border-radius: 1px;\n  box-shadow: 0px 0px 5px rgba(0, 0, 0, 0.15);\n"]))),G=function(n,e){return Object.defineProperty?Object.defineProperty(n,"raw",{value:e}):n.raw=e,n},K=function(n){var e,t,o,r=n.config;return Object(v.jsx)("div",{css:V},Object(v.jsx)(P.Link,{cancel:!1,href:r.url,target:null!==(e=r.target)&&void 0!==e?e:"_blank",rel:null!==(t=r.rel)&&void 0!==t?t:"noopener",withArrow:null===(o=r.showArrow)||void 0===o||o},r.label||r.url))},V=Object(v.css)(b||(b=G(["\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"],["\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]))),J=t(270),q=function(n,e){return Object.defineProperty?Object.defineProperty(n,"raw",{value:e}):n.raw=e,n},$=Object(v.jsx)(P.Placeholder,null,"Loading PDF..."),Q=function(n){var e=n.config,t=function(n){void 0===n&&(n=1);var e=Object(k.useState)(1),t=e[0],o=e[1],r=Object(k.useState)(1),c=r[0],s=r[1],i=Object(k.useCallback)((function(e){s(e),o(e>0?n:0)}),[n,s,o]),a=Object(k.useCallback)((function(n){o(n>c?c:n<=0?1:n)}),[c,o]);Object(k.useEffect)((function(){a(n)}),[n]);var l=t<=1,u=t>=c,b=Object(k.useCallback)((function(){u||o((function(n){return n+1}))}),[u,o]),f=Object(k.useCallback)((function(){l||o((function(n){return n-1}))}),[l,o]);return{current:t,total:c,isFirst:l,isLast:u,next:b,prev:f,jump:a,init:i}}(e.page),o=Object(k.useCallback)((function(n){t.init(n.numPages)}),[t.init]),r=N(e.scale||1,[e.scale]),c=r.scale,s=r.zoomIn,i=r.zoomOut,a=r.resetZoom;return Object(v.jsx)("div",{css:W},Object(v.jsx)(P.FlexBar,{border:!0},Object(v.jsx)(k.Fragment,{key:"left"},Object(v.jsx)("p",null,Object(v.jsx)("b",null,"PDF")),Object(v.jsx)(P.Separator,null),Object(v.jsx)(_,{onReset:a,onZoomIn:s,onZoomOut:i}),Object(v.jsx)(P.Separator,null),Object(v.jsx)(P.IconButton,{css:nn,onClick:t.prev,disabled:t.isFirst},Object(v.jsx)(P.Icons,{icon:"arrowleft"})),Object(v.jsx)("div",{css:on},t.current," / ",t.total),Object(v.jsx)(P.IconButton,{css:nn,onClick:t.next,disabled:t.isLast},Object(v.jsx)(P.Icons,{icon:"arrowright"})))),Object(v.jsx)(Z,{css:en,defaultValue:e.offset},Object(v.jsx)(J.Document,{file:e.url,loading:$,onLoadSuccess:o},Object(v.jsx)(J.Page,{css:tn,loading:$,pageNumber:t.current,scale:c}))))},W=Object(v.css)(f||(f=q(["\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  display: flex;\n  flex-direction: column;\n  align-items: stretch;\n"],["\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  display: flex;\n  flex-direction: column;\n  align-items: stretch;\n"]))),nn=function(n){return Object(v.css)(j||(j=q(["\n  &[disabled] {\n    color: ",";\n    cursor: not-allowed;\n  }\n"],["\n  &[disabled] {\n    color: ",";\n    cursor: not-allowed;\n  }\n"])),n.color.medium)},en=Object(v.css)(d||(d=q(["\n  flex-grow: 1;\n"],["\n  flex-grow: 1;\n"]))),tn=Object(v.css)(p||(p=q(["\n  position: absolute !important;\n  top: 50%;\n  left: 50%;\n  display: inline-block;\n\n  border-radius: 1px;\n  box-shadow: 0px 0px 5px rgba(0, 0, 0, 0.15);\n\n  transform: translate(-50%, -50%);\n"],["\n  position: absolute !important;\n  top: 50%;\n  left: 50%;\n  display: inline-block;\n\n  border-radius: 1px;\n  box-shadow: 0px 0px 5px rgba(0, 0, 0, 0.15);\n\n  transform: translate(-50%, -50%);\n"]))),on=Object(v.css)(O||(O=q(["\n  display: flex;\n  align-items: center;\n"],["\n  display: flex;\n  align-items: center;\n"]))),rn=function(n){var e=n.tabs,t=Object(k.useState)(e[0].id),o=t[0],r=t[1];return Object(v.jsx)(P.Tabs,{absolute:!0,selected:o,actions:{onSelect:r}},e.map((function(n){return Object(v.jsx)("div",{key:n.id,id:n.id,title:n.name},n.offscreen||o===n.id?n.content:null)})))},cn=function(){return(cn=Object.assign||function(n){for(var e,t=1,o=arguments.length;t<o;t++)for(var r in e=arguments[t])Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}).apply(this,arguments)},sn=function(){for(var n=0,e=0,t=arguments.length;e<t;e++)n+=arguments[e].length;var o=Array(n),r=0;for(e=0;e<t;e++)for(var c=arguments[e],s=0,i=c.length;s<i;s++,r++)o[r]=c[s];return o},an=function(n){var e=n.config;if(!e||"length"in e&&0===e.length)return Object(v.jsx)(P.Placeholder,null,Object(v.jsx)(k.Fragment,null,"No designs found"),Object(v.jsx)(k.Fragment,null,"Learn how to"," ",Object(v.jsx)(P.Link,{href:"https://github.com/pocka/storybook-addon-designs#usage",target:"_blank",rel:"noopener",withArrow:!0,cancel:!1},"display design preview for the story")));var t=sn(e instanceof Array?e:[e]).map((function(n,e){var t,o={id:"addon-designs-tab--"+e,name:n.name||n.type.toUpperCase(),offscreen:null===(t=n.offscreen)||void 0===t||t};switch(n.type){case"iframe":return cn(cn({},o),{content:Object(v.jsx)(S,{config:n})});case"figma":return cn(cn({},o),{content:Object(v.jsx)(z,{config:n}),offscreen:!1});case"pdf":return cn(cn({},o),{content:Object(v.jsx)(Q,{config:n})});case"image":return cn(cn({},o),{content:Object(v.jsx)(U,{config:n})});case"link":return cn(cn({},o),{content:Object(v.jsx)(K,{config:n})})}return cn(cn({},o),{content:Object(v.jsx)(P.Placeholder,null,Object(v.jsx)(k.Fragment,null,"Invalid config type"),Object(v.jsx)(k.Fragment,null,"Config type you set is not supported. Please choose one from"," ",Object(v.jsx)(P.Link,{href:"https://github.com/pocka/storybook-addon-designs#available-types",target:"_blank",rel:"noopener",withArrow:!0,cancel:!1},"available config types")))})}));return 1===t.length?Object(v.jsx)("div",null,t[0].content):Object(v.jsx)(rn,{tabs:t})},ln=function(n){var e=n.active,t=n.api,o=n.channel,r=Object(k.useState)(),c=r[0],s=r[1],i=Object(k.useState)(),a=i[0],l=i[1];return Object(k.useEffect)((function(){var n=function(n){l(n);var e=t.getParameters(n,"design");s((function(n){return e!==n?e:n}))};return o.on(y.UpdateConfig,s),o.on(C.STORY_CHANGED,n),function(){o.removeListener(y.UpdateConfig,s),o.removeListener(C.STORY_CHANGED,n)}}),[]),e?Object(v.jsx)(an,{key:a,config:c}):null};m="tab",x.a.register(h,(function(n){var e=function(e){var t=e.active,o=e.key;return Object(v.jsx)(ln,{key:o,channel:x.a.getChannel(),api:n,active:t})};"tab"===m?x.a.add(w,{title:"Design",render:e,type:g.types.TAB,paramKey:"design",route:function(n){return"/design/"+n.storyId},match:function(n){return"design"===n.viewMode}}):x.a.addPanel(w,{title:"Design",paramKey:"design",render:e})}))},425:function(n,e,t){t(426),t(569),t(1252),n.exports=t(1294)},488:function(n,e){}},[[425,1,2]]]);